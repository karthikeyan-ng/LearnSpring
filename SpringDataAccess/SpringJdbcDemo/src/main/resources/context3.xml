<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:aop="http://www.springframework.org/schema/aop"
	xmlns:tx="http://www.springframework.org/schema/tx"
	xsi:schemaLocation="
        http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/tx
        http://www.springframework.org/schema/tx/spring-tx.xsd
        http://www.springframework.org/schema/aop
        http://www.springframework.org/schema/aop/spring-aop.xsd">


	<!-- how to configure two distinct beans with totally different transactional settings -->

	<aop:config>

		<aop:pointcut id="defaultServiceOperation"
			expression="execution(* x.y.service.*Service.*(..))" />

		<aop:pointcut id="noTxServiceOperation"
			expression="execution(* x.y.service.ddl.DefaultDdlManager.*(..))" />

		<aop:advisor pointcut-ref="defaultServiceOperation"
			advice-ref="defaultTxAdvice" />

		<aop:advisor pointcut-ref="noTxServiceOperation"
			advice-ref="noTxAdvice" />

	</aop:config>

	<!-- this bean will be transactional (see the 'defaultServiceOperation' 
		pointcut) -->
	<bean id="fooService" class="x.y.service.DefaultFooService" />

	<!-- this bean will also be transactional, but with totally different transactional 
		settings -->
	<bean id="anotherFooService" class="x.y.service.ddl.DefaultDdlManager" />

	<tx:advice id="defaultTxAdvice">
		<tx:attributes>
			<tx:method name="get*" read-only="true" />
			<tx:method name="*" />
		</tx:attributes>
	</tx:advice>

	<tx:advice id="noTxAdvice">
		<tx:attributes>
			<tx:method name="*" propagation="NEVER" />
		</tx:attributes>
	</tx:advice>

	<!-- other transaction infrastructure beans such as a PlatformTransactionManager 
		omitted... -->

</beans>